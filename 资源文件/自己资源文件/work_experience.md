## 						个人的工作心得



####   数据分析

​      写过一些数据分析得代码.  提供一些数据分析的API或者报表时候, 除了弄清楚要查询那些数据，和基于那些数据来进行 加/减/乘/除  ， 计算百分比等,  还有一定要和需求弄清楚这个API后的业务背景,那样你写起来就可以更顺手。

​      还有一些  同比/环比 等计算，其实你只需要将根据时间范围查询的业务代码逻辑抽取出来,就可以获取出你想要的结果。

​      每次写完了数据分析或者报表的接口，一定要对 数据计算/求和等一些代码进行抽取出来成方法，那样就可以看清晰的看到你这个方法是在弄什么。 是在 统计数据呢， 还是在计算比例等情况呢？  所以方法一定要抽取出来，说不定抽取的时候，你还会发现，其实很多地方的代码逻辑是复用的。 比如你计算百分比的代码，你就可以提供一个计算的工具类，给全部抽取出来即可。



####  服务调用

​	系统内部的服务调用。 打个比方，我公司使用的注册中心是 Eureka , 当调用下游服务的时候，可能下游服务刚刚好挂掉了，但是eureka不是立马就给服务给删除掉了，然后你这个时候调用，咔的 timeout啊各种调用错误的提示。 如果这个时候，数据是下游服务必要要保存的话，那么就需要做一些重试的代码逻辑处理。 如果重试多次还是不成功的话，那么就和需求讨论下，看下是数据保存起来，跳过去，还是让程序pedding在这儿，其实这个地方都是看你具体的需要了。 当然了，如果你下游就只有一个服务的话，那肯定不能跳过去，因为你下个数据来了，还是错误的啊。



####  对接

​    做过一次与顺丰的对接。  对接的时候，一定要是多测试一下对方的接口，说不定你少输入某个参数或者多输入某个参数的时候，对方的BC可能就有不一样了。 意思就是一定要多弄清楚对方的BC字段意思，千万不要掉以轻心，与需求做好确认也是很重要的。打个比方，有次需求问我，顺丰平台看能到我们调用的接口是否成功的记录？ 这个时候，在开发的时候就应该和需求进行账号或者记录的确认。同时，我们在请求的时候，也一定要做好请求数据记录,请求次数记录,每次调用是否成功记录等。这个记录是可以用于你后面来进行报表生成，满足贵公司的花里胡哨的需求。



#### 线上突发问题

​	最近负责的项目一直频繁出现很多突发的情况，导致猝不及防的出现各种问题，这其中有难处理的,也就是很难寻找的bug，也有很好处理的，那种做下判断的。但是我这里要记录的是，对于要上线的东西(服务),其个人与其相交互的内部服务,一定要保持主人公的心态去做好它，并且对于那些可能发生的问题进行预测，留下一点好的处理方式来应对。而不是我这种使用脚本去跑数据，然后过后立马修复的。 但是再线上的问题，有些问题不是你很快可以的，也不是你本地随便跑跑就可以很容易测试到的bug的话，那么这种问题处理起来就不是很方面的。于是，最近我使用了阿里开发的 arthas 来看下，pd环境哪个时候，到底发生了些什么事情.