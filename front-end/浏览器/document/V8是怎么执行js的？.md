V8是怎么执行js的？

1. 解释执行/编译执行
   * 解释执行：
     * 输入的源代码-->解析器-->中间代码-->==解释器==-->执行
     * 优点：启动速度快，执行速度快
   * 编译执行：
     * 输入的源代码-->解析器-->中间代码-->==编译器==-->机器代码-->执行
     * 优点：启动速度慢，执行速度快。可移植性差
2. V8执行JS的过程
   * JS虚拟机就是模拟计算机的编译执行流程。比较流行的有（safari的JSCore虚拟机、Firefox的TraceMonkey虚拟机、Chrome的V8虚拟机）
   * V8率先引入JIT，使用**编译执行**和**混合执行**两种手段，引入惰性编译，内联缓存，隐藏类等机制，提升js运行速度。
   * ![](D:\note\source-notes\front-end\浏览器\document\runjs.png)
   * V8在启动过程中采用解释执行，执行过程中采用编译执行来优化使其生成高效的机器代码
   * 主要流程如下：
     * 初始化基础环境
     * 解析源码生成AST和作用域
     * 根据AST和作用域生成字节码
     * 监听热点代码
     * 编译器优化热点代码为二进制机器码
     * 反优化二进制机器代码

